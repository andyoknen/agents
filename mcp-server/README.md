# MCP Server for Multi-Agent Development System

Этот MCP сервер предоставляет интеграцию мультиагентной системы разработки с Cursor IDE через Model Context Protocol.

## Преимущества использования MCP вместо cursor-agent

1. **Интеграция в IDE**: Агенты доступны как инструменты прямо в Cursor
2. **Нет необходимости в shell командах**: Оркестратор может вызывать агентов через MCP tools
3. **Типизация**: Все параметры типизированы через JSON схемы
4. **Единый интерфейс**: Все агенты доступны через единый протокол

## Установка

1. Установите зависимости:
```bash
cd mcp-server
npm install
```

2. Соберите сервер:
```bash
npm run build
```

3. Настройте Cursor:

   **Вариант A: Глобальная конфигурация (рекомендуется)**
   
   Создайте или отредактируйте файл `~/.cursor/mcp.json` (или `%APPDATA%\Cursor\mcp.json` на Windows):
   
   ```json
   {
     "mcpServers": {
       "orchestrator-agents-mcp": {
         "command": "node",
         "args": ["/полный/путь/к/проекту/mcp-server/dist/index.js"],
         "cwd": "/полный/путь/к/проекту"
       }
     }
   }
   ```
   
   Замените `/полный/путь/к/проекту` на реальный путь к вашему проекту.
   
   **Вариант B: Локальная конфигурация проекта**
   
   Создайте файл `.cursor/mcp.json` в корне проекта (см. `mcp-config.example.json` как пример).
   
   После настройки перезапустите Cursor для применения изменений.

## Доступные инструменты

MCP сервер предоставляет следующие инструменты:

- `call_analyst` - Вызов аналитика для создания ТЗ
- `call_tz_reviewer` - Ревью технического задания
- `call_architect` - Вызов архитектора для проектирования
- `call_architecture_reviewer` - Ревью архитектуры
- `call_planner` - Вызов планировщика для создания плана
- `call_plan_reviewer` - Ревью плана разработки
- `call_developer` - Вызов разработчика для реализации задачи
- `call_code_reviewer` - Ревью кода

## Использование в промпте оркестратора

Вместо shell команд:
```bash
cursor-agent -f --model opus-4.5 -p "{промпт}"
```

Теперь можно использовать MCP инструменты:
```
Используй инструмент call_analyst с параметрами:
- task_description: "{описание задачи}"
- project_description: "{описание проекта}"
```

## Требования

- Node.js 18+
- cursor-agent утилита должна быть установлена и доступна в PATH
- Все промпты агентов должны находиться в `agents/` каталоге

## Разработка

Для разработки в режиме watch:
```bash
npm run dev
```

Сервер использует stdio transport для коммуникации с Cursor.
